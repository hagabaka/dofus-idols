<!DOCTYPE html>
<html>
  <head>
    <title>Dofus Idol Calculator</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js'></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.1/js/standalone/selectize.min.js'></script>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.1/css/selectize.min.css' rel='stylesheet' />
    <script src='utilities.js'></script>
    <script src='model.js'></script>

    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <link href='style.css' rel='stylesheet' />
  </head>

  <body>
    <div id='entry'>
      <select id='combination-entry'
        data-bind='foreach: visibleIdols, selectedOptions: combinationEntry' multiple>
        <option
          data-bind='attr: {value: name, "data-data": JSON.stringify($data)}, text: name'>
        </option>
      </select>
    </div>

    <div id='display'>
      <span id='score' data-bind='text: score()'></span>

      <!-- ko if: guessed -->
      <p>We currently do not have synergy values for most Minor to Major idols,
      so some of the synergy values had to be <span class='guessed'>guessed</span>,
      based on the known synergy values from Great idols. Therefore the calculated score
      is probably wrong.
      </p>
      <!-- /ko -->
      <ul id='synergies' data-bind='foreach: synergies()'>
        <li class='synergy' data-bind='css: {guessed: guessed}'>
          <ul class='idol-names' data-bind='foreach: idols'>
            <li class='idol-name' data-bind='text: name'></li>
          </ul>
          <span class='synergy-value' data-bind='text: value'></span>
        </li>
      </ul>
    </div>

    <div id='notes'>
      <p>This is a calculator for <a href='http://www.dofus.com/'>Dofus</a> idol scores.
      To enter idols in the above box, type and press Enter. Data is mostly from
      <a href='tofus.fr/fiches/idoles.php'>Tofus.fr</a>, and is currently missing for
      most "Major" and below idols.</p>
      <p>I would appreciate feedback and contributions at
        <a href='https://github.com/hagabaka/dofus-idols/issues'>GitHub</a> or
        <a href='http://impsvillage.com/forums/topic/147332-work-in-progress-idol-score-calculator/'>ImpsVillage</a>.
      </p>
    </div>
    <script src='viewModel.js'></script>
    <script src='setupSelectize.js'></script>
  </body>
</html>
